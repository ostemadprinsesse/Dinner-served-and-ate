npm![Banner](https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExejA0ZXBnNHBra3ZtYTJycDA1OHh4b244MWhrdzhocjg4NWVxeTB0YSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/FyKfqRxVbzciY/giphy.gif)
# Dinner-served-and-ate

Dette repo er migreret til **Next.js + React** for brugerflade og funktionalitet.



# How to see our stuff with docker
frontend : http://localhost:4000
checkout data like this http://localhost:5000/api/recipe/tags
swagger api overview: http://localhost:4000/swagger 


## Kør projektet
 
Krav: Node.js 18+.

### Metode 1: Lokal udvikling (uden Docker)
1. Installer dependencies:
	- `npm install`
2. Start dev-server:
	- `npm run dev`
3. Åbn	- `http://localhost:3005/`

### Metode 2: Med Docker (KIK HER)
Krav: [Docker Desktop](https://www.docker.com/products/docker-desktop/) installeret og kørende.

1. **Start applikationen:**
   ```bash
   docker-compose up
   ```
   Applikationen vil være tilgængelig på `http://localhost:4000/`

2. **Stop applikationen:**
   - Tryk `Ctrl+C` i terminalen, eller
   ```bash
   docker-compose down
   ```

3. **Genstart efter kodeændringer:**
   - Hot reload er aktiveret - dine ændringer vises automatisk
   - Ved dependency ændringer (package.json):
   ```bash
   docker-compose down
   docker-compose up --build
   ```

4. **Reset database:**
   ```bash
   docker-compose down -v
   docker-compose up
   ```


**Note:** Docker bruger port 4000, lokal udvikling bruger port 3005.

## API dokumentation

- OpenAPI spec: [api-schema.yaml](api-schema.yaml)
- API overview (Markdown): [API_OVERVIEW.md](API_OVERVIEW.md)
- Swagger UI (lokalt): `http://localhost:3002/swagger/`

## Funktionalitet

- UI:
  - `/` viser alle opskrifter
  - `/recipes/[id]/` viser opskrifts-detaljer
- API (Next.js route handlers):
  - (Implementeret samlet i én fil: `app/api/[[...path]]/route.js`)
  - `/api/recipe/recipes/`
  - `/api/recipe/recipes/{id}/`
  - `/api/recipe/recipes/{id}/upload-image/` (stub)
  - `/api/recipe/ingredients/` + `/api/recipe/ingredients/{id}/` (id endpoints er stubs)
  - `/api/recipe/tags/` + `/api/recipe/tags/{id}/` (id endpoints er stubs)
  - `/api/user/*` (simple demo endpoints)

## Database

Projektet bruger den eksisterende SQLite databasefil `app.db` i roden.

Hvis du vil pege på en anden databasefil, sæt env variablen:
- `DB_PATH=/path/to/app.db`

## Mappe overblik
```
.
├─ api-schema.yaml
├─ architecutreIdeaLINEA.md
├─ jsconfig.json
├─ next.config.mjs
├─ package.json
├─ README.md
├─ .gitignore
├─ .dockerignore
├─ Dockerfile
├─ docker-compose.yml
├─ app/
│  ├─ globals.css
│  ├─ layout.js
│  ├─ page.js
│  ├─ api/
│  │  └─ [[...path]]/
│  │     └─ route.js
│  └─ recipes/
│     └─ [id]/
│        └─ page.js
├─ lib/
│  └─ db.js
└─ Diary/
  ├─ 2-Introduction.md
  └─ ToDoList.md

node_modules/          (generated by `npm install`)
.next/                 (generated by Next.js build)
```
